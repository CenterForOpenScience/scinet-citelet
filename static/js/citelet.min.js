(function(a,b,c,d,e,f,g,h){if(!(e=a.jQuery)||c>e.fn.jquery||d(e)){f=b.createElement('script');f.type='text/javascript';f.src='http://ajax.googleapis.com/ajax/libs/jquery/'+c+'/jquery.min.js';f.onload=f.onreadystatechange=function(){if(!g&&(!(h=this.readyState)||h=='loaded'||h=='complete')){d((e=a.jQuery).noConflict(1),g=1);e(f).remove();}};b.documentElement.childNodes[0].appendChild(f);}})(window,document,'1.3.2',function(a,b){'$:nomunge, L:nomunge';var c={sciencedirect:function(){var b=a('title');return b.length&&/sciencedirect/i.test(b.html());},oxford:function(){return a('meta[content]').filter(function(){return /oxford university press/i.test(this.content);}).length>0;},sage:function(){return a('meta[content]').filter(function(){return /sage publications/i.test(this.content);}).length>0;},plos:function(){var b=a('meta[name="citation_journal_abbrev"]');return b&&/plos/i.test(b[0].content);},frontiers:function(){return a('meta[content]').filter(function(){return /frontiers/i.test(this.content);}).length>0;}};head_extract_meta=function(){var b=a('meta[name]').filter(function(){return /citation_(?!reference)/.test(this.name);});var c={};b.each(function(){var a=this.name.replace(/citation_/,'');if(!(a in c))c[a]=[];c[a].push(this.content);});return c;};var d={sciencedirect:function(){var b={};var c=a('a#ddDoi');var d=c.attr('href');d=d.replace(/.*?dx\.doi\.org.*?\//,'');b.doi=d;return b;},oxford:head_extract_meta,sage:head_extract_meta,plos:head_extract_meta,frontiers:head_extract_meta};var e={sciencedirect:function(){return a('ul.reference');},oxford:function(){return a('ol.cit-list > li');},sage:function(){return a('ol.cit-list > li');},plos:function(){return a('ol.references > li');},frontiers:function(){return a('div.References');}};detect_publisher=function(){for(rule in c)if(c[rule]())return rule;return false;};extract_head_reference=function(a){if(!(a in d))return false;var b=d[a]();return JSON.stringify(b);};extract_cited_references=function(b){if(!(b in e))return false;var c=e[b]();c=c.map(function(){return a(this).html();});return JSON.stringify(c.get());};var f=detect_publisher();var g=extract_head_reference(f);var h=extract_cited_references(f);a.ajax({url:'http://127.0.0.1:5000/sendrefs/',dataType:'jsonp',async:false,data:{publisher:f,head_ref:g,refs:h},success:function(a){alert(a.msg);}});});